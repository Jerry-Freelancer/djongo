import{b as X}from"./chunk-RGVFONJK.js";import{a as E}from"./chunk-SN4UOKAS.js";import{h as G,l as J,m as K,o as U,p as W}from"./chunk-LY2EUBPU.js";import{k as y,m as B}from"./chunk-AAVRSJOW.js";import{A as I,Ab as q,Ca as a,Cb as l,Db as w,Eb as _,F as D,H,Jb as b,Ka as S,Pa as T,Pb as Q,Ra as F,Ua as L,Vb as N,X as d,ab as u,ba as M,ca as P,gb as R,ib as g,j as p,jb as h,kb as c,lb as o,ma as O,mb as V,na as k,oa as m,qb as $,rb as z,sa as A,sb as v,z as x,zb as j}from"./chunk-QRGKDDWW.js";var Y=(()=>{class i{constructor(){this.enter=O.required({alias:"appActive"}),this.leave=O.required(),this.afterAttachedHeadingIdFound=new p,this.aRef=d(k).nativeElement}ngAfterViewInit(){let t=this.aRef.href;this.attachedHeadingId=t.substring(t.indexOf("#")+1),this.afterAttachedHeadingIdFound.next();let e=this.enter(),n=this.leave();e.pipe(x(r=>r===this.attachedHeadingId)).subscribe(()=>this.aRef.classList.add("active")),n.pipe(x(r=>r===this.attachedHeadingId)).subscribe(()=>this.aRef.classList.remove("active"))}ngOnInit(){this.enter().pipe(D(),I(this.afterAttachedHeadingIdFound),H()).subscribe(e=>{e.includes(this.attachedHeadingId)&&this.aRef.classList.add("active")})}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275dir=F({type:i,selectors:[["","appActive",""]],inputs:{enter:[1,"appActive","enter"],leave:[1,"leave"]}})}}return i})();var te=["pageEl"],Z=()=>[],C=(i,s)=>s.title;function ne(i,s){if(i&1&&(c(0,"li")(1,"a",10),l(2),o()()),i&2){let t=s.$implicit;a(),u("routerLink",t.path),a(),_(" ",t.title," ")}}function ie(i,s){if(i&1&&(c(0,"li")(1,"h3"),l(2),o(),c(3,"ul"),g(4,ne,3,2,"li",null,C),o()()),i&2){let t=s.$implicit;a(2),w(t.title),a(2),h(t.children)}}function ae(i,s){if(i&1&&(c(0,"li")(1,"a",11),l(2),o()()),i&2){let t=s.$implicit,e=v(3);a(),u("appActive",e.enterHeading())("leave",e.leaveHeading())("routerLink",b(5,Z))("fragment",t.path),a(),_(" ",t.title," ")}}function oe(i,s){if(i&1&&(c(0,"ul"),g(1,ae,3,6,"li",null,C),o()),i&2){let t=v().$implicit;a(),h(t.children)}}function re(i,s){if(i&1&&(c(0,"li")(1,"a",11),l(2),o(),L(3,oe,3,0,"ul"),o()),i&2){let t=s.$implicit,e=v();a(),u("appActive",e.enterHeading())("leave",e.leaveHeading())("routerLink",b(6,Z))("fragment",t.path),a(),_(" ",t.title," "),a(),R(t.children.length?3:-1)}}var xe=(()=>{class i{constructor(){this.meta=d(G),this._cd=d(Q),this.route=d(J),this.platformId=d(A),this.tocMain=N(()=>E.map(e=>({title:e.title,children:e.children.filter(n=>n.inIndex).map(n=>({title:n.navTitle??n.title,path:n.path}))}))),this.pageEl=S.required("pageEl"),this.tocPage=m([]),this.title=m(""),this.enterHeading=m(new p),this.leaveHeading=m(new p),d(B).setOffset([3.1*22,3.1*22])}removeIntersect(){y(this.platformId)&&this.intersect.disconnect()}setMetaDescription(){let t=this.route.firstChild?.snapshot.url[0],e;if(!E.some(r=>r.children.some(f=>f.path===t?.toString()?(e=f.description,!0):!1)))throw new Error(`path: ${t} not found!`);e&&(this.meta.updateTag({name:"description",content:e}),this.meta.updateTag({property:"og:description",content:e}))}buildPage(){if(this.title.set(this.route.firstChild?.snapshot?.title||""),this.setMetaDescription(),y(this.platformId)){this._cd.detectChanges(),this.intersect=new IntersectionObserver(n=>{n.forEach(r=>{r.isIntersecting?this.enterHeading().next(r.target.id):this.leaveHeading().next(r.target.id)})});let t=this.pageEl().nativeElement.querySelectorAll("h2, h3"),e=[];t.forEach(n=>{this.intersect.observe(n),n.tagName==="H2"?e.push({title:n.innerText,path:n.id,children:[]}):e.length?e[e.length-1].children.push({title:n.innerText,path:n.id}):e.push({title:n.innerText,path:n.id,children:[]})}),this.tocPage.set(e)}}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=T({type:i,selectors:[["ng-component"]],viewQuery:function(e,n){e&1&&j(n.pageEl,te,5),e&2&&q()},decls:21,vars:1,consts:[["pageEl",""],[1,"body"],[1,"nav-sticky","aside-left"],[1,"nav","nav-side"],[1,"page-content"],[1,"title-docs"],[3,"activate","deactivate"],[1,"nav-sticky","aside-right"],[1,"nav","nav-toc"],[1,"fas","fa-file-alt"],["routerLinkActive","active",3,"routerLink"],[3,"appActive","leave","routerLink","fragment"]],template:function(e,n){if(e&1){let r=$();c(0,"div",1)(1,"aside",2)(2,"app-nav")(3,"nav",3)(4,"ul"),g(5,ie,6,1,"li",null,C),o()()()(),c(7,"div",4,0)(9,"header")(10,"h1",5),l(11),o()(),c(12,"router-outlet",6),z("activate",function(){return M(r),P(n.buildPage())})("deactivate",function(){return M(r),P(n.removeIntersect())}),o()(),c(13,"aside",7)(14,"nav",8)(15,"h3"),V(16,"i",9),l(17," On This Page"),o(),c(18,"ul"),g(19,re,4,7,"li",null,C),o()()()()}e&2&&(a(5),h(n.tocMain()),a(6),w(n.title()),a(8),h(n.tocPage()))},dependencies:[K,W,U,Y,X],styles:[".body[_ngcontent-%COMP%]{display:grid;grid-template-columns:minmax(max-content,calc(16rem - 1em)) minmax(16rem,80rem) minmax(min-content,calc(16rem - 1em));grid-template-rows:repeat(2,auto);justify-content:center;column-gap:1em;padding-left:1em;padding-right:1em}.page-content[_ngcontent-%COMP%]{grid-row:1/-1}.aside-left[_ngcontent-%COMP%], .aside-right[_ngcontent-%COMP%]{grid-row:1}@media (max-width: 80rem){.body[_ngcontent-%COMP%]{grid-template-columns:max-content minmax(24rem,80rem);grid-template-rows:repeat(3,auto)}.aside-left[_ngcontent-%COMP%]{grid-column:1;grid-row:1/3}.page-content[_ngcontent-%COMP%]{grid-column:2;grid-row:2/-1}.aside-right[_ngcontent-%COMP%]{grid-column:2;grid-row:1/2}}@media (max-width: 48rem){.body[_ngcontent-%COMP%]{grid-template-rows:repeat(2,auto)}.aside-left[_ngcontent-%COMP%]{grid-row:1/-1}.aside-right[_ngcontent-%COMP%]{grid-row:1}.page-content[_ngcontent-%COMP%]{grid-row:2}}.nav[_ngcontent-%COMP%]{padding-top:1em;padding-bottom:1em;min-width:min-content;max-width:max-content;font-size:var(--font-sm)}@media (max-width: 80rem){.nav[_ngcontent-%COMP%]{font-size:var(--font-base)}}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.nav-sticky[_ngcontent-%COMP%]{position:sticky;top:3em;overflow:auto;max-height:calc(100vh - 3em)}.nav-sticky.aside-left[_ngcontent-%COMP%]{z-index:1}@media (max-width: 80rem){.nav-sticky.aside-right[_ngcontent-%COMP%]{position:static;max-height:inherit}}.nav-side[_ngcontent-%COMP%]{line-height:1.58}.nav-side[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1em;opacity:.7;text-transform:uppercase;border-bottom:1px solid rgb(241.7553,242.60496,243.2547);margin:.5em 0;padding:.25em 0}.nav-side[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit;opacity:.7}.nav-side[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{font-weight:700;opacity:1}.nav-side[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:1}.nav-toc[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:var(--font-base);font-weight:700;color:#fff;background:#62696e;border-top-left-radius:.375em;border-top-right-radius:.375em;padding:var(--space-2xs) var(--space-xs);margin:0}.nav-toc[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:var(--space-2xs) var(--space-xs);color:#646769;font-weight:700;line-height:1.5;border-bottom:1px solid rgb(241.7553,242.60496,243.2547);border-left:1px solid rgb(241.7553,242.60496,243.2547);border-right:1px solid rgb(241.7553,242.60496,243.2547)}.nav-toc[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.nav-toc[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{font-weight:400;padding-left:1em}.nav-toc[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#e2e4e5}.sidebar[_ngcontent-%COMP%]{opacity:1}.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.7em}.page-content[_ngcontent-%COMP%]{margin-top:1em}"]})}}return i})();export{xe as DocsComponent};
