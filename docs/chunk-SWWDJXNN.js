import{k as E,n as k}from"./chunk-MDDKJWGL.js";import{d as R,i as D,k as j}from"./chunk-HZTNMKQF.js";import{Cb as h,Da as l,Ob as w,Qa as S,S as v,Va as C,Y as s,bb as c,ca as u,da as y,fb as b,hb as z,j as a,lb as O,mb as p,nb as x,pa as r,qb as d,rb as N,sb as M,ta as _,tb as o,ub as T,vb as P,z as f}from"./chunk-HDX5X56L.js";var I=(()=>{class t{constructor(){this._displaySize=void 0,this.displaySizeChange=new a,this._displayState="close",this.displayStateChange=new a,this.smallThreshold=600,this.numNavsRegistered=0,this.numNavsOpen=0;let e=s(_),n=s(R).querySelector("body");if(!n)throw new Error("Nav Service Body not found");j(e)&&(this._displaySize=this.getSize(n.offsetWidth),new ResizeObserver(B=>{this.onResize(B[0].borderBoxSize[0].inlineSize)}).observe(n)),s(k).events.pipe(f(g=>g instanceof E)).subscribe(()=>this.displayState="close")}get displaySize(){return this._displaySize}set displaySize(e){e!=this._displaySize&&(this._displaySize=e,this.displaySizeChange.next(e))}get displayState(){return this._displayState}set displayState(e){e!=this._displayState&&(this._displayState=e,this.displayStateChange.next(e),this.numNavsOpen=e==="close"?0:this.numNavsOpen)}register(){this.numNavsRegistered++}unregister(){this.numNavsRegistered--}onResize(e){this.displaySize=this.getSize(e)}getSize(e){return e<this.smallThreshold?"small":"large"}toggleDisplayState(){this.displayState=this.displayState==="open"?"close":"open",this.displayState==="open"&&(this.numNavsOpen=this.numNavsRegistered)}onShowToggle(){if(this._displaySize==="large")throw new Error("Request on large");this.toggleDisplayState()}onNavigationDone(){this._displayState!=="close"&&(this.toggleDisplayState(),this.displayStateChange.next("close"))}onNavClose(){--this.numNavsOpen==0&&(this._displayState="close")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var V=["*"];function q(t,m){t&1&&P(0)}function Y(t,m){if(t&1){let e=N();O(0,"div",3)(1,"div",4),M("click",function(){u(e);let n=o();return y(n.onClose())}),x(2,"div")(3,"div"),p(),d(4,2),p()}if(t&2){let e=o(),i=h(1);b(e.display()),l(4),c("ngTemplateOutlet",i)}}function A(t,m){if(t&1&&d(0,2),t&2){o();let e=h(1);c("ngTemplateOutlet",e)}}var ee=(()=>{class t{constructor(){this.nav=s(I),this.nav.register(),this.size=r(this.nav.displaySize),this.sizeSub=this.nav.displaySizeChange.subscribe(e=>this.size.set(e)),this.display=r("close"),this.displaySub=this.nav.displayStateChange.subscribe(e=>this.display.set(e))}ngOnDestroy(){this.displaySub.unsubscribe(),this.sizeSub.unsubscribe(),this.nav.unregister()}onClose(){this.display.set("close"),this.nav.onNavClose()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=S({type:t,selectors:[["app-nav"]],ngContentSelectors:V,decls:4,vars:1,consts:[["content",""],[1,"media-small",3,"class"],[3,"ngTemplateOutlet"],[1,"media-small"],[1,"cross",3,"click"]],template:function(i,n){i&1&&(T(),C(0,q,1,0,"ng-template",null,0,w)(2,Y,5,3,"div",1)(3,A,1,1,"ng-container",2)),i&2&&(l(2),z(n.size()==="small"?2:n.size()==="large"?3:-1))},dependencies:[D],styles:[".media-small[_ngcontent-%COMP%]{position:fixed;top:3rem;left:0;padding:0 var(--space-sm);background:#fff;height:100vh;border-right:1px solid rgb(241.7553,242.60496,243.2547);z-index:1}.cross[_ngcontent-%COMP%]{margin:var(--space-2xs) 0;aspect-ratio:1;width:var(--font-md)}.cross[_ngcontent-%COMP%]:hover{cursor:pointer}.cross[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:#000;height:1px;width:var(--font-md)}.cross[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){transform:translateY(calc(var(--font-md) * .5)) rotate(-45deg)}.cross[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){transform:translateY(calc(var(--font-md) * .5 - 1px)) rotate(45deg)}.open[_ngcontent-%COMP%]{transition:transform .4s ease-in;transform:translate(0)}.close[_ngcontent-%COMP%]{transform:translate(-100%);padding:0;overflow:hidden;transition:transform .3s ease-out}"]})}}return t})();export{I as a,ee as b};
