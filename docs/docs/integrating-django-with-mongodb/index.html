<!DOCTYPE html><html lang="en" class="no-js" data-beasties-container><head>
<meta charset="UTF-8">
<title>Integrating Django with MongoDB</title>
<meta name="description" content="Djongo is an extension to the Django ORM. Use MongoDB as the backend for your Django project, without changing the Django ORM. Use Django Admin to directly add and modify documents stored in MongoDB. Use other contrib modules such as Auth and Sessions without any changes. Start using Django with MongoDB by adding just one line of code">
<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Djongomapper">
<meta property="og:title" content="Djongo">
<meta property="og:url" content="https://www.djongomapper.com/">
<meta property="og:description" content="Djongo is an extension to the Django ORM. Use MongoDB as the backend for your Django project, without changing the Django ORM. Use Django Admin to directly add and modify documents stored in MongoDB. Use other contrib modules such as Auth and Sessions without any changes. Start using Django with MongoDB by adding just one line of code">
<link rel="canonical" href="https://www.djongomapper.com/">
<script type="application/ld+json">
  {
    "@context": "https://schema.org",

      "@type": "Organization",
      "name": "Doableware",
      "url": "https://www.djongomapper.com/",
      "logo": "/assets/images/djongo-symbol-small.png"
  }
</script>
<meta name="google-site-verification" content="tFNu7Nc9hzKF9v7f6kYaoMbBCNyGREchcKMVdxJuyJo">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">
</noscript>
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" type="text/css" media="screen" href="/assets/css/custom.css">
<link rel="shortcut icon" href="/assets/images/favicon.ico">
<script async src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script async src="https://cdn.jsdelivr.net/npm/js-cookie@rc/dist/js.cookie.min.js"></script>
<!--<script async src="/assets/js/cookie-consent.js"></script>-->

<script>
  if (window.location.hostname != 'localhost'){
  (function (w, d, s, l, i) {
  w[l] = w[l] || [];
  w[l].push({
    'gtm.start':
      new Date().getTime(), event: 'gtm.js'
  });
  var f = d.getElementsByTagName(s)[0],
    j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : '';
  j.async = true;
  j.src =
    'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
  f.parentNode.insertBefore(j, f);
})(window, document, 'script', 'dataLayer', 'GTM-T72KG6N');
  }
</script>

  <base href="/">
  <style>html{scroll-behavior:smooth}
</style><link rel="stylesheet" href="styles-TPMX36DN.css" media="print" onload="this.media='all'"><noscript><link rel="stylesheet" href="styles-TPMX36DN.css"></noscript><style ng-app-id="ng">.body[_ngcontent-ng-c4210415865]{display:grid;grid-template-columns:minmax(min-content,calc(300px - 1rem)) minmax(600px,1280px) minmax(min-content,calc(300px - 1rem));grid-template-rows:calc(100vh - 3rem) auto;justify-content:center;gap:1rem;padding-left:1rem;padding-right:1rem}.body[_ngcontent-ng-c4210415865] > div[_ngcontent-ng-c4210415865]{grid-row:1/-1}.body[_ngcontent-ng-c4210415865] > aside[_ngcontent-ng-c4210415865]{grid-row:1}.nav[_ngcontent-ng-c4210415865]{padding-top:1rem;padding-bottom:1rem;font-size:.7rem}.nav-sticky[_ngcontent-ng-c4210415865]{position:sticky;top:3rem;overflow:auto}.nav-side[_ngcontent-ng-c4210415865]   h3[_ngcontent-ng-c4210415865]{font-size:.7rem;opacity:.7;text-transform:uppercase;border-bottom:1px solid #f2f3f3;margin:.5rem 0;padding:.25rem 0}.nav-side[_ngcontent-ng-c4210415865]   a[_ngcontent-ng-c4210415865]{color:inherit;opacity:.7}.nav-side[_ngcontent-ng-c4210415865]   .active[_ngcontent-ng-c4210415865]{font-weight:700;opacity:1}.nav-side[_ngcontent-ng-c4210415865]   a[_ngcontent-ng-c4210415865]:hover{opacity:1}.nav-toc[_ngcontent-ng-c4210415865]   h3[_ngcontent-ng-c4210415865]{font-size:.75rem;font-weight:700;color:#fff;background:#6f777d;border-top-left-radius:4px;border-top-right-radius:4px;padding:.5rem .75rem;margin:0}.nav-toc[_ngcontent-ng-c4210415865]   a[_ngcontent-ng-c4210415865]{display:block;padding:.25rem .75rem;color:#646769;font-weight:700;line-height:1.5;border-bottom:1px solid #f2f3f3;border-left:1px solid #f2f3f3;border-right:1px solid #f2f3f3}.nav-toc[_ngcontent-ng-c4210415865]   a[_ngcontent-ng-c4210415865]:hover{text-decoration:underline}.nav-toc[_ngcontent-ng-c4210415865]   li[_ngcontent-ng-c4210415865]   li[_ngcontent-ng-c4210415865] > a[_ngcontent-ng-c4210415865]{font-weight:400;padding-left:1rem}.nav-toc[_ngcontent-ng-c4210415865]   .active[_ngcontent-ng-c4210415865]{background-color:#e2e4e5}.sidebar[_ngcontent-ng-c4210415865]{opacity:1}.sidebar[_ngcontent-ng-c4210415865]   li[_ngcontent-ng-c4210415865]{font-size:.7rem}.page__content[_ngcontent-ng-c4210415865]{margin-top:1em}</style></head>
  <body><!--nghm--><script type="text/javascript" id="ng-event-dispatch-contract">(()=>{function p(t,n,r,o,e,i,f,m){return{eventType:t,event:n,targetElement:r,eic:o,timeStamp:e,eia:i,eirp:f,eiack:m}}function u(t){let n=[],r=e=>{n.push(e)};return{c:t,q:n,et:[],etc:[],d:r,h:e=>{r(p(e.type,e,e.target,t,Date.now()))}}}function s(t,n,r){for(let o=0;o<n.length;o++){let e=n[o];(r?t.etc:t.et).push(e),t.c.addEventListener(e,t.h,r)}}function c(t,n,r,o,e=window){let i=u(t);e._ejsas||(e._ejsas={}),e._ejsas[n]=i,s(i,r),s(i,o,!0)}window.__jsaction_bootstrap=c;})();
</script><script>window.__jsaction_bootstrap(document.body,"ng",["click"],[]);</script>
  <app-root ng-version="19.2.0" ngh="2" ng-server-context="ssg"><router-outlet></router-outlet><ng-component _nghost-ng-c4210415865 ngh="1"><app-body _ngcontent-ng-c4210415865 ngh="0"><div class="layout--splash"><nav class="skip-links"><ul><li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li><li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li><li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li></ul></nav><div class="masthead"><div class="masthead__inner-wrap"><div class="masthead__menu"><nav id="site-nav" class="greedy-nav"><a href="/" class="site-logo"><img src="/assets/images/djongo-symbol-small.png" alt="Djongo"></a><a href="/" class="site-title"> Djongo </a><ul class="visible-links"><li class="masthead__menu-item"><a href="/djongocs/login/">Login</a></li><li class="masthead__menu-item"><a href="/djongocs/contact-us/">Contact Us</a></li><li class="masthead__menu-item"><a href="/app-development/">Services</a></li><li class="masthead__menu-item"><a href="/products/">Products</a></li><li class="masthead__menu-item"><a href="/docs/get-started/">Docs</a></li></ul><button type="button" class="greedy-nav__toggle hidden"><span class="visually-hidden">Toggle Menu</span><div class="navicon"></div></button><ul class="hidden-links hidden"></ul></nav></div></div></div><div class="initial-content"><div _ngcontent-ng-c4210415865 class="body"><aside _ngcontent-ng-c4210415865 class="nav-sticky"><nav _ngcontent-ng-c4210415865 class="nav nav-side"><ul _ngcontent-ng-c4210415865><li _ngcontent-ng-c4210415865><h3 _ngcontent-ng-c4210415865>Djongo</h3><ul _ngcontent-ng-c4210415865><li _ngcontent-ng-c4210415865><a _ngcontent-ng-c4210415865 routerlinkactive="active" href="/docs/get-started" class jsaction="click:;"> Get Started </a></li><li _ngcontent-ng-c4210415865><a _ngcontent-ng-c4210415865 routerlinkactive="active" href="/docs/integrating-django-with-mongodb" class="active" jsaction="click:;"> Django with MongoDB </a></li><li _ngcontent-ng-c4210415865><a _ngcontent-ng-c4210415865 routerlinkactive="active" href="/docs/using-django-with-mongodb-data-fields" class jsaction="click:;"> Embedded Field </a></li><li _ngcontent-ng-c4210415865><a _ngcontent-ng-c4210415865 routerlinkactive="active" href="/docs/using-django-with-mongodb-array-field" class jsaction="click:;"> Array Field </a></li><li _ngcontent-ng-c4210415865><a _ngcontent-ng-c4210415865 routerlinkactive="active" href="/docs/using-django-with-mongodb-array-reference-field" class jsaction="click:;"> Array Reference Field </a></li><li _ngcontent-ng-c4210415865><a _ngcontent-ng-c4210415865 routerlinkactive="active" href="/docs/using-django-with-other-fields" class jsaction="click:;"> Other Fields </a></li><!----></ul></li><li _ngcontent-ng-c4210415865><h3 _ngcontent-ng-c4210415865>DjongoCS</h3><ul _ngcontent-ng-c4210415865><li _ngcontent-ng-c4210415865><a _ngcontent-ng-c4210415865 routerlinkactive="active" href="/docs/indexes" class jsaction="click:;"> Indexes </a></li><li _ngcontent-ng-c4210415865><a _ngcontent-ng-c4210415865 routerlinkactive="active" href="/docs/model-query" class jsaction="click:;"> Model Query </a></li><li _ngcontent-ng-c4210415865><a _ngcontent-ng-c4210415865 routerlinkactive="active" href="/docs/model-creation" class jsaction="click:;"> Model Creation </a></li><li _ngcontent-ng-c4210415865><a _ngcontent-ng-c4210415865 routerlinkactive="active" href="/docs/model-update" class jsaction="click:;"> Model Update </a></li><li _ngcontent-ng-c4210415865><a _ngcontent-ng-c4210415865 routerlinkactive="active" href="/docs/database-transactions" class jsaction="click:;"> Database Transactions </a></li><!----></ul></li><li _ngcontent-ng-c4210415865><h3 _ngcontent-ng-c4210415865>Side Stuff</h3><ul _ngcontent-ng-c4210415865><li _ngcontent-ng-c4210415865><a _ngcontent-ng-c4210415865 routerlinkactive="active" href="/docs/djongo-comparison" class jsaction="click:;"> Djongo vs Others </a></li><li _ngcontent-ng-c4210415865><a _ngcontent-ng-c4210415865 routerlinkactive="active" href="/docs/django-mongodb-connector-design-document" class jsaction="click:;"> Djongo Design </a></li><!----></ul></li><!----></ul></nav></aside><div _ngcontent-ng-c4210415865 class="page__content"><header _ngcontent-ng-c4210415865><h1 _ngcontent-ng-c4210415865 class="page__title">Integrating Django with MongoDB</h1></header><router-outlet _ngcontent-ng-c4210415865></router-outlet><ng-component ngh="0"><p>Use MongoDB as a backend database for your Django project, without changing the Django ORM. Use Django Admin to add and modify documents in MongoDB. Start using Django with MongoDB by adding just one line of code. </p><h2 id="how-it-works">How it works</h2><p>Djongo makes <strong>zero changes</strong> to the existing Django ORM framework, which means unnecessary bugs and security vulnerabilities do not crop up. It simply translates a SQL query string into a <a href="https://docs.mongodb.com/manual/tutorial/query-documents/">MongoDB query document</a>. As a result, all Django features, models, etc., work as is.</p><p>Django contrib modules: </p><div class="highlighter-rouge highlight codehilite"><pre><span></span><code><span class="s1">'django.contrib.admin'</span><span class="p">,</span>
<span class="s1">'django.contrib.auth'</span><span class="p">,</span>    
<span class="s1">'django.contrib.sessions'</span><span class="p">,</span>
</code></pre></div><p>and others... fully supported.</p><h2 id="what-you-get">What you get</h2><p>Djongo ensures that you:</p><ul><li>Reuse Django Models/ORM.</li><li>Work with the original Django variant.</li><li>Future proof your code.</li><li>Atomic SQL JOIN operations.</li></ul><p>Get [expert support][support_page] for complex projects.</p><h2 id="rapid-prototyping">Rapid Prototyping</h2><p>Djongo lets you rapidly develop and evolve your app models. Modifying your models is <strong>much faster</strong> with Djongo compared to traditional Django ORM. Since MongoDB is a schema-less database, every time you redefine a model, MongoDB does not expect you to redefine the schema. </p><h3 id="goodbye-migrations">Goodbye Migrations</h3><p>With Djongo you <strong>permanently say goodbye</strong> to Django Migrations. To enable migration free model evolution simply set <code>ENFORCE_SCHEMA: False</code> in your database configuration. Djongo no longer interprets SQL DDL statements (example CREATE TABLE) to emit pymongo <code>create_collection</code> commands. With <code>ENFORCE_SCHEMA: False</code> collections are created implicitly, on the fly.</p><h2 id="use-django-admin-to-add-documents">Use Django Admin to add documents</h2><p>The Django Admin interface can be used to work with MongoDB. Additionally, several MongoDB specific features are supported using <a href="/using-django-with-mongodb-data-fields/">EmbeddedField</a>, <a href="/using-django-with-mongodb-array-field/">ArrayField</a> and other fields. Let’s say you want to create a blogging platform using Django with MongoDB as your backend. In your Blog <code>app/models.py</code> file define the <code>Blog</code> model:</p><div class="highlighter-rouge highlight codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">djongo</span> <span class="kn">import</span> <span class="n">models</span>

<span class="k">class</span> <span class="nc">Blog</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
    <span class="n">tagline</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">TextField</span><span class="p">()</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">abstract</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div><p>Now ‘embed’ your <code>Blog</code> inside a <code>Entry</code> using the <code>EmbeddedField</code>:</p><div class="highlighter-rouge highlight codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">Entry</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">blog</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">EmbeddedField</span><span class="p">(</span>
        <span class="n">model_container</span><span class="o">=</span><span class="n">Blog</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">headline</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">255</span><span class="p">)</span>
</code></pre></div><p>Register your <code>Entry</code> in <code>admin.py</code>:</p><div class="highlighter-rouge highlight codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">django.contrib</span> <span class="kn">import</span> <span class="n">admin</span>
<span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">Entry</span>

<span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">Entry</span><span class="p">)</span>
</code></pre></div><p>That’s it you are set! Fire up Django Admin on localhost:8000/admin/ and this is what you get:</p><p><img alt="Django Admin" src="/assets/images/admin.png"></p><h3 id="querying-embedded-fields">Querying Embedded fields</h3><p>In the above example, to query all Entries with Blogs which have names that start with <em>Beatles</em>, use the following query:</p><div class="highlighter-rouge highlight codehilite"><pre><span></span><code><span class="n">entries</span> <span class="o">=</span> <span class="n">Entry</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">blog__startswith</span><span class="o">=</span><span class="p">{</span><span class="s1">'name'</span><span class="p">:</span> <span class="s1">'Beatles'</span><span class="p">})</span>
</code></pre></div><p>Refer to <a href="/using-django-with-mongodb-data-fields/">Using Django with MongoDB data fields</a> for more details.</p><h2 id="migrating-an-existing-django-app-to-mongodb">Migrating an existing Django app to MongoDB</h2><p>When migrating an existing Django app to MongoDB, it is recommended to start a new database on MongoDB. For example, use <code>myapp-djongo-db</code> in your <code>settings.py</code> file. </p><ol><li><p>Into <code>settings.py</code> file of your project, add:</p><p><code>{.python .highlighter-rouge .highlight } DATABASES = { 'default': { 'ENGINE': 'djongo', 'NAME': 'myapp-djongo-db', } }</code></p></li><li><p>Run <code>manage.py makemigrations &lt;myapp&gt;</code> followed by <code>manage.py migrate</code>.</p></li><li>Open Django Admin and you should find all Models defined in your app, showing up in the Admin.</li><li>While the relevant collections have been created in MongoDB, they have no data inside.</li><li>Continue by inserting data into the collections manually, or use Django Admin for a GUI. </li></ol><h2 id="setting-up-an-existing-mongodb-database-on-django">Setting up an existing MongoDB database on Django</h2><h3 id="the-internal-__schema__-collection">The internal <code>__schema__</code> collection</h3><p>There is no concept of an AUTOINCREMENT field in MongoDB. Therefore, Djongo internally creates a <code>__schema__</code> collection to track such fields. The <code>__schema__</code> collection looks like:</p><div class="highlighter-rouge highlight codehilite"><pre><span></span><code><span class="p">{</span> 
    <span class="s2">"_id"</span> <span class="p">:</span> <span class="n">ObjectId</span><span class="p">(</span><span class="s2">"5a5c3c87becdd9fe2fb255a9"</span><span class="p">),</span> 
    <span class="s2">"name"</span> <span class="p">:</span> <span class="s2">"django_migrations"</span><span class="p">,</span> 
    <span class="s2">"auto"</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s2">"field_names"</span> <span class="p">:</span> <span class="p">[</span>
            <span class="s2">"id"</span>
        <span class="p">],</span> 
        <span class="s2">"seq"</span> <span class="p">:</span> <span class="n">NumberInt</span><span class="p">(</span><span class="mi">14</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><p>For every collection in the DB that has an autoincrement field, there is a corresponding entry in the <code>__schema__</code> collection. Running <code>manage.py migrate</code> automatically creates these entries. </p><p>Now there are 2 approaches to setting up your existing data onto MongoDB:</p><h3 id="zero-risk">Zero risk</h3><ol><li>Start with a new database name in <code>settings.py</code>.</li><li>If you have not already done so, define your models in the <code>models.py</code> file. The model names and model fields have to be exactly the same, as the existing data that you want to setup.</li><li>Run <code>manage.py makemigrations &lt;app_name&gt;</code> followed by <code>manage.py migrate</code>. </li><li>Now your empty DB should have a <code>__schema__</code> collection, and other collections defined in the <code>model.py</code> file.</li><li>Copy collection data (of your custom models defined in <code>model.py</code>) to the new DB.</li><li>In <code>__schema__</code> collection make sure that the <code>seq</code> number of your AUTOINCREMENT fields is <strong>set to the latest value</strong>. This should correspond to the document count for each model. For example, if your model has 16 entries (16 documents in the DB), then <code>seq</code> should be set as 16. Usually the AUTOINCREMENT field is called <code>id</code>.</li></ol><p>However, if you do not want to create a new database (and copy existing data into this new database), you can try this approach:</p><h3 id="medium-risk">Medium risk</h3><ol><li>Start with an empty database. You can always delete this later.</li><li>Same as before.</li><li>Same as before.</li><li>Now copy the <code>__schema__</code> collection from the new database (from step1) to the existing database.</li><li>Same as step 6 from before.</li><li>You can now delete the database created in step 1.</li></ol><p><em>You are now done setting up Django with MongoDB. Start using Django with MongoDB, like you would with any other database backend.</em></p></ng-component><!----></div><aside _ngcontent-ng-c4210415865 class="nav-sticky"><nav _ngcontent-ng-c4210415865 class="nav nav-toc"><h3 _ngcontent-ng-c4210415865><i _ngcontent-ng-c4210415865 class="fas fa-file-alt"></i> On This Page</h3><ul _ngcontent-ng-c4210415865><!----></ul></nav></aside></div></div><div id="footer" class="page__footer"><footer><aside class="l-fixed-notice cookie-notice"><p>We use cookies to enhance user experience. You consent to their usage by browsing this site. <button id="cookie-accept" class="btn btn--success" jsaction="click:;">Accept</button></p></aside><div class="page__footer-copyright">© 2025 Doableware AB.</div></footer></div></div></app-body></ng-component><!----></app-root>
<!--<script src="/assets/js/main.min.js"></script>-->
<script>
  window.ga = function () {
    ga.q.push(arguments)
  };
  ga.q = [];
  ga.l = +new Date;
  ga('create', 'UA-75159067-1', 'auto');
  ga('set', 'anonymizeIp', false);
  ga('send', 'pageview')
</script>
<script src="https://www.google-analytics.com/analytics.js" async></script>  <link rel="modulepreload" href="chunk-27PYSS5C.js"><script src="polyfills-EONH2QZO.js" type="module"></script><script src="main-6KJRTQAE.js" type="module"></script>
<script id="ng-state" type="application/json">{"__nghData__":[{},{"n":{"1":"0f2n2f"},"t":{"6":"t20","20":"t22"},"c":{"6":[{"i":"t20","r":1,"t":{"5":"t21"},"c":{"5":[{"i":"t21","r":1,"x":6}]}},{"i":"t20","r":1,"t":{"5":"t21"},"c":{"5":[{"i":"t21","r":1,"x":5}]}},{"i":"t20","r":1,"t":{"5":"t21"},"c":{"5":[{"i":"t21","r":1,"x":2}]}}],"12":[{"i":"c3785772613","r":1}],"20":[]}},{"c":{"0":[{"i":"c4210415865","r":1}]}}]}</script></body></html>